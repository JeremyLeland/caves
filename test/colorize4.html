<style>
  #luminance { filter: url(#lumToAlpha); }
  #colorized { filter: url(#color); }
</style>

<img style="filter: url(#color)" src="../images/terrain/grass.png">
<input id="picker" type="color" value="#dabade">

<script>
  // Luminance coefficients.
  const lumR = 0.2126;
  const lumG = 0.7152;
  const lumB = 0.0722;

  const R = 4.0;
  const G = 2.0;
  const B = 0.0;

  document.write(`<svg xmlns="
    http://www.w3.org/2000/svg">
  <filter id="color">
    <feColorMatrix 
      type="matrix" 
      values="${lumR * R} ${lumG * R} ${lumB * R} 0 0
              ${lumR * G} ${lumG * G} ${lumB * B} 0 0
              ${lumR * B} ${lumG * B} ${lumB * B} 0 0
              0 0 0 1 0">
    </feColorMatrix>
  </filter>
</svg>`);
</script>