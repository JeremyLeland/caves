<link rel="stylesheet" href="../styles.css">
<script type="module">
  import * as THREE from 'https://unpkg.com/three/build/three.module.js'

  const tileMap = [
    [ 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0],
    [ 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0],
    [ 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0],
    [ 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 0, 0],
    [ 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0],
    [ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [ 1, 0, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0],
    [ 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, 1, 1],
    [ 1, 0, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0],
    [ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [ 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0],
  ];

  const cols = tileMap.length - 1, rows = tileMap[0].length - 1;

  
  const scene = new THREE.Scene();
  scene.background = new THREE.Color( 0x222255 );

  const geometry = new THREE.PlaneBufferGeometry( cols, rows, cols, rows );
  geometry.rotateX( -Math.PI / 2 );

  const colors = [];
  for ( let row = 0; row <= rows; row ++ ) {
    for ( let col = 0; col <= cols; col ++ ) {
      switch ( tileMap[ col ][ row ] ) {
        case 0: colors.push( 0, 1, 0 ); break;
        case 1: colors.push( 1, 0.5, 0 ); break;
        case 2: colors.push( 1, 1, 1 ); break;
      }
    }
  }

  const colorsAttr = new THREE.BufferAttribute( new Float32Array( colors ), 3 );
  geometry.setAttribute('color', colorsAttr);
  
  const material = new THREE.MeshLambertMaterial( { wireframe: false, vertexColors: true } );
  const mesh = new THREE.Mesh( geometry, material );
  scene.add( mesh );

  const light = new THREE.DirectionalLight( 0xffffff );
  light.position.set( 0, 1.0, 0.5 );
  light.target.position.set( 0, 0, 0 );
  scene.add( light );

  const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
  camera.position.set( 0, 10, 6);
  camera.lookAt( 0, 0, 0 );

  const renderer = new THREE.WebGLRenderer();
  renderer.setSize( window.innerWidth, window.innerHeight );
  document.body.appendChild( renderer.domElement );
  renderer.render( scene, camera );

  //     window.addEventListener('resize', () => this.resize(), false)

  //     this.renderer.setSize( window.innerWidth, window.innerHeight )
  //     this.camera.aspect = window.innerWidth / window.innerHeight
  //     this.camera.updateProjectionMatrix()
  

</script>